var keyboardKeys,KeyboardClick=pc.createScript("keyboardClick"),clickedKey=null;KeyboardClick.prototype.initialize=function(){keyboardKeys=this.app.root.findByName("Keyboard-Buttons").children,this.entity.element.on("click",this.onClick,this)},KeyboardClick.prototype.onClick=function(e){if("Key-Submit-Button"!=this.entity.name){var t;for(t=0;t<keyboardKeys.length;t++){var n=keyboardKeys[t].name+"-Select";this.app.root.findByName(n).enabled=!1}clickedKey=this.entity.name,console.log("name: "+clickedKey);var a=clickedKey+"-Select";console.log("selected: "+a),this.app.root.findByName(a).enabled=!0}else null!==clickedKey&&(keyAns==clickedKey?(correctAns=!0,this.app.root.findByName("Key-Correct").enabled=!0):(correctAns=!1,this.app.root.findByName("Key-Wrong").enabled=!0,this.app.root.findByName("Key-Actual-Answer").enabled=!0,"FG4"==keyAns?this.app.root.findByName("Key-Actual-Answer").element.text="F4 Sharp/G4 Flat":"CD5"==keyAns?this.app.root.findByName("Key-Actual-Answer").element.text="C5 Sharp/D5 Flat":this.app.root.findByName("Key-Actual-Answer").element.text=keyAns),this.entity.enabled=!1,this.app.root.findByName("Key-Got-Answer").enabled=!0)};var randNum,KeyNote=pc.createScript("keyNote"),keyAns=null,gottenNums=[];KeyNote.prototype.initialize=function(){getKeyRandomNum()},getKeyRandomNum=function(){if(console.log("length: "+gottenNums.length),randNum=Math.floor(Math.random()*Math.floor(3)),gottenNums.length>0&&gottenNums.length<3){for(i=0;i<gottenNums.length;i++)console.log("gottenNums[i]: "+gottenNums[i]),gottenNums[i]==randNum&&(randNum=Math.floor(Math.random()*Math.floor(3)),i=-1);gottenNums.push(randNum)}else 0===gottenNums.length&&gottenNums.push(randNum);var e,t=pc.app.root.findByName("Key-Note-Pic");if(0===randNum){e="f4-sharp.png";var n=pc.app.assets.find(e,"texture").resource;t.element.texture=n,keyAns="FG4"}if(1===randNum){e="a5.jpg";n=pc.app.assets.find(e,"texture").resource;t.element.texture=n,keyAns="A5"}if(2===randNum){e="d5-flat.png";n=pc.app.assets.find(e,"texture").resource;t.element.texture=n,keyAns="CD5"}},KeyNote.prototype.update=function(e){};var ContinueButton=pc.createScript("continueButton"),ansNumTimes=0;ContinueButton.prototype.initialize=function(){this.entity.element.on("click",this.contClick,this)},ContinueButton.prototype.contClick=function(e){var n=Math.floor(Math.random()*Math.floor(3));if(ansNumTimes++,console.log("questions answered: "+ansNumTimes),updateHealth(),0!==youHealth&&0!==enemyHealth)if("Key-Continue"==this.entity.name){var o;for(this.app.root.findByName("Key-Wrong").enabled=!1,this.app.root.findByName("Key-Actual-Answer").enabled=!1,this.app.root.findByName("Key-Correct").enabled=!1,this.app.root.findByName("Key-Got-Answer").enabled=!1,this.app.root.findByName("Key-Submit-Button").enabled=!0,o=0;o<keyboardKeys.length;o++){var a=keyboardKeys[o].name+"-Select";this.app.root.findByName(a).enabled=!1}randQuestionSelect(n)}else"Visual-Continue"==this.entity.name?(this.app.root.findByName("Visual-Interval-Wrong").enabled=!1,this.app.root.findByName("Visual-Interval-Actual-Answer").enabled=!1,this.app.root.findByName("Visual-Interval-Correct").enabled=!1,this.app.root.findByName("Visual-Interval-Got-Answer").enabled=!1,this.app.root.findByName("Visual-Interval-Question-Pick").enabled=!0,this.app.root.findByName("Visual-Submit-Button").enabled=!0,randQuestionSelect(n)):"Audio-Continue"==this.entity.name&&(this.app.root.findByName("Audio-Interval-Wrong").enabled=!1,this.app.root.findByName("Audio-Interval-Actual-Answer").enabled=!1,this.app.root.findByName("Audio-Interval-Correct").enabled=!1,this.app.root.findByName("Audio-Interval-Got-Answer").enabled=!1,this.app.root.findByName("Audio-Interval-Question-Pick").enabled=!0,this.app.root.findByName("Audio-Submit-Button").enabled=!0,randQuestionSelect(n));else 0===youHealth?playerDefeat():0===enemyHealth&&enemyDefeat()},randQuestionSelect=function(e){0===e?(console.log("visual question"),3==intervalPics.length?(console.log("max visual length"),randQuestionSelect(Math.floor(Math.random()*Math.floor(3)))):(!0===pc.app.root.findByName("Visual-Interval").enabled?(console.log("call random interval"),getRandomInterval()):(console.log("call random interval 2"),pc.app.root.findByName("Visual-Interval").enabled=!0,getRandomInterval()),pc.app.root.findByName("Find-Key").enabled=!1,pc.app.root.findByName("Audio-Interval").enabled=!1)):1==e?(console.log("audio question"),3==soundClips.length?(console.log("max audio length"),randQuestionSelect(Math.floor(Math.random()*Math.floor(3)))):(!0===pc.app.root.findByName("Audio-Interval").enabled?(console.log("call random audio"),newRandAudio()):(console.log("call random audio 2"),pc.app.root.findByName("Audio-Interval").enabled=!0,newRandAudio()),pc.app.root.findByName("Find-Key").enabled=!1,pc.app.root.findByName("Visual-Interval").enabled=!1)):(console.log("keyboard question"),3==gottenNums.length?(console.log("max audio length"),randQuestionSelect(Math.floor(Math.random()*Math.floor(3)))):(!0===pc.app.root.findByName("Find-Key").enabled?(console.log("call random key"),getKeyRandomNum()):(console.log("call random key 2"),pc.app.root.findByName("Find-Key").enabled=!0,getKeyRandomNum()),pc.app.root.findByName("Visual-Interval").enabled=!1,pc.app.root.findByName("Audio-Interval").enabled=!1))},ContinueButton.prototype.update=function(e){};var scaleTypeV,numTypeV,ScaleClick=pc.createScript("scaleClick"),clickedTypeV=null,clickedNumV=null;ScaleClick.prototype.initialize=function(){scaleTypeV=this.app.root.findByName("Visual-Scale-Type").children,numTypeV=this.app.root.findByName("Visual-Scale-Num").children,this.entity.element.on("click",this.onClick,this)},ScaleClick.prototype.onClick=function(e){var l=this.entity.name;if(console.log("entity name: "+l),"Visual-Submit-Button"!=l)if("Visual-Scale-Major"==l||"Visual-Scale-Minor"==l||"Visual-Scale-Perfect"==l){for(n=0;n<scaleTypeV.length;n++){var t=scaleTypeV[n].name+"-Select";this.app.root.findByName(t).enabled=!1}clickedTypeV=this.entity.name,console.log("name: "+clickedTypeV);var a=clickedTypeV+"-Select";console.log("selected: "+a),this.app.root.findByName(a).enabled=!0}else{for(n=0;n<numTypeV.length;n++){t=numTypeV[n].name+"-Select";this.app.root.findByName(t).enabled=!1}clickedNumV=this.entity.name,console.log("num name: "+clickedNumV);a=clickedNumV+"-Select";console.log("selected: "+a),this.app.root.findByName(a).enabled=!0}else if(null!==clickedTypeV&&null!==clickedNumV){var n,i=this.app.root.findByName(clickedTypeV+"-Text"),c=this.app.root.findByName(clickedNumV+"-Text"),o=i.element.text+" "+c.element.text;if(console.log("interval got: "+o),this.app.root.findByName("Visual-Interval-Question-Pick").enabled=!1,scaleAns==o)correctAns=!0,this.app.root.findByName("Visual-Interval-Correct").enabled=!0;else correctAns=!1,this.app.root.findByName("Visual-Interval-Wrong").enabled=!0,this.app.root.findByName("Visual-Interval-Actual-Answer").enabled=!0,this.app.root.findByName("Visual-Interval-Actual-Answer").element.text=""+scaleAns;for(this.entity.enabled=!1,this.app.root.findByName("Visual-Interval-Got-Answer").enabled=!0,n=0;n<scaleTypeV.length;n++){t=scaleTypeV[n].name+"-Select";this.app.root.findByName(t).enabled=!1}for(n=0;n<numTypeV.length;n++){t=numTypeV[n].name+"-Select";this.app.root.findByName(t).enabled=!1}clickedTypeV=null,clickedNumV=null}};var IntervalTest=pc.createScript("intervalTest"),scaleAns=null,intervalPics=[];IntervalTest.prototype.initialize=function(){getRandomInterval()},getRandomInterval=function(){var e;if(console.log("length: "+intervalPics.length),randNum=Math.floor(Math.random()*Math.floor(3)),intervalPics.length>0){var t;for(t=0;t<intervalPics.length;t++)intervalPics[t]==randNum&&(randNum=Math.floor(Math.random()*Math.floor(3)),t=-1);console.log("interval pushing with rand num: "+randNum),intervalPics.push(randNum)}else intervalPics.push(randNum);var n=pc.app.root.findByName("Visual-Interval-Pic");if(0===randNum){e="major-2nd.png";var r=pc.app.assets.find(e,"texture").resource;n.element.texture=r,scaleAns="Major 2nd"}if(1===randNum){e="minor-7th.png";r=pc.app.assets.find(e,"texture").resource;n.element.texture=r,scaleAns="Minor 7th"}if(2===randNum){e="perfect-4th.png";r=pc.app.assets.find(e,"texture").resource;n.element.texture=r,scaleAns="Perfect 4th"}},IntervalTest.prototype.update=function(e){};var randAudio,AudioPress=pc.createScript("audioPress"),audioAns=null,soundClips=[];AudioPress.prototype.initialize=function(){randAudio=Math.floor(Math.random()*Math.floor(3)),this.entity.element.on("click",this.onClick,this)},AudioPress.prototype.onClick=function(o){console.log("on click"),0===soundClips.length&&soundClips.push(randAudio),randomAudio()},newRandAudio=function(){if(console.log("length audio: "+soundClips.length),randAudio=Math.floor(Math.random()*Math.floor(3)),soundClips.length>0&&soundClips.length<3){for(i=0;i<soundClips.length;i++)console.log("soundClips[i]: "+soundClips[i]),soundClips[i]==randAudio&&(randAudio=Math.floor(Math.random()*Math.floor(3)),i=-1);soundClips.push(randAudio)}else 0===soundClips.length&&soundClips.push(randAudio);randomAudio()},randomAudio=function(){var o=pc.app.root.findByName("Audio-Button");console.log("rand audio num: "+randAudio),0===randAudio?(o.sound.play("Slot 1"),audioAns="Major 6th"):1==randAudio?(o.sound.play("Slot 2"),audioAns="Minor 3rd"):(o.sound.play("Slot 3"),audioAns="Perfect 5th")},AudioPress.prototype.update=function(o){};var scaleTypeA,numTypeA,AudioScaleClick=pc.createScript("audioScaleClick"),clickedTypeA=null,clickedNumA=null;AudioScaleClick.prototype.initialize=function(){scaleTypeA=this.app.root.findByName("Audio-Scale-Type").children,numTypeA=this.app.root.findByName("Audio-Scale-Num").children,this.entity.element.on("click",this.onClick,this)},AudioScaleClick.prototype.onClick=function(e){var l=this.entity.name;if(console.log("entity name: "+l),"Audio-Submit-Button"!=l)if("Audio-Scale-Major"==l||"Audio-Scale-Minor"==l||"Audio-Scale-Perfect"==l){for(n=0;n<scaleTypeA.length;n++){var t=scaleTypeA[n].name+"-Select";this.app.root.findByName(t).enabled=!1}clickedTypeA=this.entity.name,console.log("name: "+clickedTypeA);var i=clickedTypeA+"-Select";console.log("selected: "+i),this.app.root.findByName(i).enabled=!0}else{for(n=0;n<numTypeA.length;n++){t=numTypeA[n].name+"-Select";this.app.root.findByName(t).enabled=!1}clickedNumA=this.entity.name,console.log("num name: "+clickedNumA);i=clickedNumA+"-Select";console.log("selected: "+i),this.app.root.findByName(i).enabled=!0}else if(null!==clickedTypeA&&null!==clickedNumA){var n,o=this.app.root.findByName(clickedTypeA+"-Text"),a=this.app.root.findByName(clickedNumA+"-Text"),c=o.element.text+" "+a.element.text;if(console.log("interval got: "+c),this.app.root.findByName("Audio-Interval-Question-Pick").enabled=!1,audioAns==c)correctAns=!0,this.app.root.findByName("Audio-Interval-Correct").enabled=!0;else correctAns=!1,this.app.root.findByName("Audio-Interval-Wrong").enabled=!0,this.app.root.findByName("Audio-Interval-Actual-Answer").enabled=!0,this.app.root.findByName("Audio-Interval-Actual-Answer").element.text=""+audioAns;for(this.entity.enabled=!1,this.app.root.findByName("Audio-Interval-Got-Answer").enabled=!0,n=0;n<scaleTypeA.length;n++){t=scaleTypeA[n].name+"-Select";this.app.root.findByName(t).enabled=!1}for(n=0;n<numTypeA.length;n++){t=numTypeA[n].name+"-Select";this.app.root.findByName(t).enabled=!1}clickedTypeA=null,clickedNumA=null}};var Health=pc.createScript("health"),youHealth=4,enemyHealth=4,correctAns=!1;Health.prototype.initialize=function(){},updateHealth=function(){if(!0===correctAns){var e="Enemy-Health-"+enemyHealth;pc.app.root.findByName(e).enabled=!1,enemyHealth-=1}else{pc.app.root.findByName("Health-"+youHealth).enabled=!1,youHealth-=1}},enemyDefeat=function(){pc.app.root.findByName("Win-Screen").enabled=!0,pc.app.root.findByName("Find-Key").enabled=!1,pc.app.root.findByName("Visual-Interval").enabled=!1,pc.app.root.findByName("Audio-Interval").enabled=!1},playerDefeat=function(){pc.app.root.findByName("Lose-Screen").enabled=!0,pc.app.root.findByName("Find-Key").enabled=!1,pc.app.root.findByName("Visual-Interval").enabled=!1,pc.app.root.findByName("Audio-Interval").enabled=!1},Health.prototype.update=function(e){};var Attack=pc.createScript("attack");Attack.prototype.initialize=function(){this.entity.element.on("click",this.onClick,this)},Attack.prototype.onClick=function(t){this.app.root.findByName("Health-Screen").enabled=!0,this.app.root.findByName("HALL").enabled=!1;var a=Math.floor(Math.random()*Math.floor(3));0===a?this.app.root.findByName("Visual-Interval").enabled=!0:1==a?this.app.root.findByName("Audio-Interval").enabled=!0:this.app.root.findByName("Find-Key").enabled=!0},Attack.prototype.update=function(t){};var Movement=pc.createScript("movement");Movement.attributes.add("speed",{type:"number",default:1}),Movement.prototype.initialize=function(){},Movement.prototype.update=function(t){var e=this.app.keyboard.isPressed(pc.KEY_LEFT),i=this.app.keyboard.isPressed(pc.KEY_RIGHT);e&&(this.entity.getLocalPosition().x<-585&&this.entity.setLocalPosition(580,this.entity.getLocalPosition().y,this.entity.getLocalPosition().z),this.entity.translate(-this.speed*t,0,0)),i&&(console.log(),this.entity.getLocalPosition().x>450&&(this.app.root.findByName("Battle-Screen").enabled=!0,setTimeout(function(){pc.app.root.findByName("Battle-Screen").enabled=!1,pc.app.root.findByName("Button").enabled=!0},3e3),this.app.root.findByName("HALL").enabled=!0,this.app.root.findByName("bgg").enabled=!1),this.entity.translate(this.speed*t,0,0))},Movement.prototype.swap=function(t){};var Trigger=pc.createScript("trigger");Trigger.prototype.initialize=function(){this.entity.collision.on("triggerenter",this.onTriggerEnter,this)},Trigger.prototype.onTriggerEnter=function(r){console.log("triggeredf"),console.log(r+"")};var Begin=pc.createScript("begin");Begin.prototype.initialize=function(){this.entity.element.on("click",this.onClick,this)},Begin.prototype.onClick=function(i){this.app.root.findByName("Opening").enabled=!1,this.app.root.findByName("bgg").enabled=!0},Begin.prototype.update=function(i){};